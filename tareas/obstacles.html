<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <canvas width="900" height="450" id="canvas"></canvas>
    <style>
    </style>

    <script>
        const canvas = document.getElementById("canvas")
        const ctx = canvas.getContext("2d")

        var x = 0;
        var y = 0;
        var vx = 0;
        var vy = 0;
        var image = "ruta de la imagen "
        const rect = 0;


        addEventListener("keydown", (e) => {
            if (e.code == 'KeyD') {
                vy = 0
                vx = 5
            }

            else if (e.code == 'KeyA') {
                vy = 0
                vx = -5
            }
            else if (e.code == 'KeyS') {
                vx = 0
                vy = 5
            }

            else if (e.code == 'KeyW') {
                vx = 0
                vy = -5
            }
        })


        function update() {
            
            ctx.clearRect(0, 0, canvas.width, canvas.height)
            x += vx
            y += vy

            ctx.fillRect(x, y, 50, 50)
            requestAnimationFrame(update)

            if (x >= canvas.width - 50 || x <= 0) {
                vx = 0;
            }
            if (y >= canvas.height - 50 || y <= 0) {
                vy = 0;
            }
            if (x == 20 && Y == 20) {
                vx = 0;
            }


            const barra = new obstacle(700, 70, 20, 300)
            const barra1 = new obstacle(20, 400, 300, 20)
            const barra2 = new obstacle(400, 70, 20, 200)
            const barra3 = new obstacle(20, 70, 20, 300)
        }

        class obstacle {

            constructor(xp, yp, width, height) {

                this.xPosition = xp;
                this.yPosition = yp;
                this.width = width;
                this.height = height;

                ctx.beginPath()
                ctx.rect(xp, yp, width, height)
                ctx.fillRect(xp, yp, width, height)
            }

        }

        update()
    </script>
</body>

</html>