<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <canvas width="700" height="500" id="myCanvas"></canvas>
    <style>
        body {
            margin: 0px auto;
            padding: 0%;
            background-color: #202020;
        }

        #myCanvas {
            border: 1px solid white;
        }
    </style>

    <script>
        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");
        var ctx1 = canvas.getContext("2d");
        var ctx2 = canvas.getContext("2d");
        var color;
        var is = false;
        var down = false;

        canvas.addEventListener("mouseover", (e) => {
            is = !is;
            var f = new Date;
            var randomNum;
            var randomNum1 = Math.round(Math.random() * 100);
            randomNum = Math.random() * 120
            randomNum = Math.round(randomNum);
            var r = randomNum.toString();
            f = f.getHours();
            var g = f * randomNum1 * 3;
            var b = randomNum *randomNum1 * 2 ;
            g = g.toString();
            b = b.toString()
            color = "rgb(" + r + "," + g + "," + b + ")"

            canvas.addEventListener("mousedown", (e) => {

                down = true;

                if (is) {

                    ctx.beginPath()
                    ctx.arc(e.offsetX, e.offsetY, 30, 0, 2 * Math.PI);
                    ctx.fillStyle = color;
                    ctx.fill();
                }
                else {
                    ctx.beginPath()
                    ctx.rect(e.offsetX - 30, e.offsetY - 30, 60, 60);
                    ctx.fillStyle = color;
                    ctx.fill();
                }
            })

        })

        canvas.addEventListener("mousemove", (e) => {
            if (down) {
                ctx2.beginPath();
                ctx2.arc(e.offsetX, e.offsetY, 3, 0, 2 * Math.PI);
                ctx2.fillStyle = "black"
                ctx2.fill();
            }
        })
        canvas.addEventListener("mouseup", () => {
            down = false;
        })

    </script>

</body>

</html>